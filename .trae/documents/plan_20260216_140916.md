I will proceed with the "Functional Prototype" approach, prioritizing the critical bug fixes and high-impact polish items.

### **Phase 1: Critical Bug Fixes (Immediate)**
1.  **Fix Inverted Gravity (`player.py`)**:
    *   Modify `check_collisions()` to handle ceiling collision when `game.inverted_gravity` is True.
    *   Ensure landing mechanics (particles, squash, sound) trigger on ceiling impact.
2.  **Fix Parry Tracking (`main.py`)**:
    *   Remove the erroneous line `self.total_parries = self.player.parry_chain` in `Game.update()`. The Player class already accumulates `game.total_parries` correctly in `handle_parry()`.
3.  **Fix Local Import Performance (`player.py`)**:
    *   Move `from effects import AfterimageParticle` from `draw()` to the top-level imports.

### **Phase 2: Feature Completion & Polish**
4.  **Implement Camera Zoom (`main.py`)**:
    *   Introduce `self.render_surface` in `Game.__init__`.
    *   Update `Game.draw()` to render all game elements to `self.render_surface` instead of `self.screen`.
    *   Apply scaling to `self.render_surface` based on `effect_manager.zoom_level` and blit it centered on `self.screen`.
5.  **Reality Break Telegraph (`boss.py`)**:
    *   Modify `reality_break` attack to start a "warning" phase (60 frames) before applying the effect.
    *   Add visual feedback (screen flash or text) during the warning phase.
6.  **Fix Wall Cling (`player.py`)**:
    *   Update `check_collisions` to respect `wall_cling_timer`. Only reduce gravity if the timer is active.

I will execute these changes sequentially, starting with `player.py` fixes.
